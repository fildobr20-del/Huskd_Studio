<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Husk Label Stats</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0f0f11; color: #e5e5e5; width: 340px; min-height: 200px;
    }
    .header {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      padding: 16px 18px 14px; border-bottom: 1px solid #2a2a3e;
      display: flex; align-items: center; gap: 10px;
    }
    .logo {
      width: 28px; height: 28px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 8px; display: flex; align-items: center; justify-content: center;
      font-size: 14px; font-weight: bold; color: white;
    }
    .header-title { font-size: 15px; font-weight: 600; color: #fff; }
    .header-sub { font-size: 11px; color: #8888aa; margin-top: 1px; }
    .status-bar {
      padding: 10px 18px; background: #141420;
      border-bottom: 1px solid #1e1e2e; font-size: 12px;
    }
    .status-dot {
      display: inline-block; width: 7px; height: 7px; border-radius: 50%;
      margin-right: 6px; background: #22c55e; vertical-align: middle;
    }
    .status-dot.warning { background: #f59e0b; }
    .status-dot.error { background: #ef4444; }
    .section { padding: 14px 18px; border-bottom: 1px solid #1e1e2e; }
    .section-title {
      font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em;
      color: #6666aa; margin-bottom: 10px;
    }
    .btn {
      width: 100%; padding: 9px 16px; border: none; border-radius: 8px;
      font-size: 13px; font-weight: 500; cursor: pointer; transition: opacity 0.15s;
    }
    .btn:active { opacity: 0.7; }
    .btn-primary { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; }
    .btn-secondary { background: #1e1e30; color: #aaaacc; border: 1px solid #2a2a40; }
    .sync-list { list-style: none; max-height: 200px; overflow-y: auto; }
    .sync-item {
      display: flex; justify-content: space-between; align-items: flex-start;
      padding: 7px 0; border-bottom: 1px solid #1a1a2a; font-size: 12px;
    }
    .sync-item:last-child { border-bottom: none; }
    .sync-platform { color: #8b5cf6; font-weight: 500; text-transform: capitalize; }
    .sync-user { color: #aaaacc; font-size: 11px; margin-top: 2px; }
    .sync-amount { color: #22c55e; font-weight: 600; }
    .sync-time { color: #555566; font-size: 10px; text-align: right; margin-top: 2px; }
    .empty-state { text-align: center; color: #555566; font-size: 12px; padding: 16px 0; }
    .config-form label {
      font-size: 11px; color: #8888aa; display: block;
      margin-bottom: 4px; margin-top: 10px;
    }
    .config-form label:first-child { margin-top: 0; }
    .config-form input, .config-form select {
      width: 100%; background: #1a1a2e; border: 1px solid #2a2a40;
      border-radius: 6px; padding: 7px 10px; font-size: 12px;
      color: #e5e5e5; outline: none;
    }
    .config-form input:focus, .config-form select:focus { border-color: #6366f1; }
    .save-msg { font-size: 11px; color: #22c55e; text-align: center; margin-top: 8px; display: none; }
    .tabs { display: flex; background: #141420; border-bottom: 1px solid #1e1e2e; }
    .tab {
      flex: 1; padding: 8px; text-align: center; font-size: 11px;
      cursor: pointer; color: #555566; border-bottom: 2px solid transparent;
      transition: all 0.15s;
    }
    .tab.active { color: #8b5cf6; border-bottom-color: #8b5cf6; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .hint {
      background: #1a1a2e; border: 1px solid #2a2a40; border-radius: 6px;
      padding: 8px 10px; font-size: 11px; color: #8888aa; line-height: 1.5;
      margin-bottom: 10px;
    }
    #status-msg { font-size: 11px; padding: 4px 18px 8px; color: #6366f1; }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">H</div>
    <div>
      <div class="header-title">Husk Label Stats</div>
      <div class="header-sub">v1.6 ‚Äî –ü–µ—Ä–µ—Ö–≤–∞—Ç API</div>
    </div>
  </div>

  <div class="status-bar">
    <span class="status-dot" id="status-dot"></span>
    <span id="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="syncs">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</div>
    <div class="tab" data-tab="manual">–†—É—á–Ω–æ–π –≤–≤–æ–¥</div>
    <div class="tab" data-tab="debug">üîç API</div>
    <div class="tab" data-tab="settings">‚öôÔ∏è</div>
  </div>

  <div class="tab-content active" id="tab-syncs">
    <div class="section">
      <div class="hint" id="page-hint">–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ</div>
      <div class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏</div>
      <ul class="sync-list" id="sync-list">
        <li class="empty-state">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ö</li>
      </ul>
    </div>
    <div class="section" style="padding-top:10px; padding-bottom:12px;">
      <button class="btn btn-primary" id="btn-collect">‚ñ∂ –°–æ–±—Ä–∞—Ç—å —Å–µ–π—á–∞—Å</button>
    </div>
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∞: –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ API -->
  <div class="tab-content" id="tab-debug">
    <div class="section">
      <div class="section-title">–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã</div>
      <p style="font-size:11px;color:#8888aa;margin-bottom:10px;line-height:1.5">
        –ù–∞–∂–º–∏—Ç–µ ¬´–°–æ–±—Ä–∞—Ç—å¬ª –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ, –∑–∞—Ç–µ–º –Ω–∞–≤–∏–≥–∏—Ä—É–π—Ç–µ –ø–æ —Å–∞–π—Ç—É. –ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ API URL-—ã –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞.
      </p>
      <ul class="sync-list" id="url-list" style="max-height:240px">
        <li class="empty-state">–ù–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</li>
      </ul>
    </div>
    <div class="section" style="padding-top:8px;padding-bottom:10px;display:flex;gap:8px">
      <button class="btn btn-secondary" id="btn-refresh-urls" style="font-size:11px">‚Üª –û–±–Ω–æ–≤–∏—Ç—å</button>
      <button class="btn btn-secondary" id="btn-clear-urls" style="font-size:11px;color:#ef4444">‚úï –û—á–∏—Å—Ç–∏—Ç—å</button>
    </div>
  </div>

  <div class="tab-content" id="tab-manual">
    <div class="section">
      <div class="section-title">–†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö</div>
      <div class="config-form">
        <label>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</label>
        <select id="manual-platform">
          <option value="stripchat">StripChat</option>
          <option value="chaturbate">Chaturbate</option>
          <option value="skyprivate">SkyPrivate</option>
          <option value="flirt4free">Flirt4Free</option>
          <option value="xmodels">XModels</option>
        </select>
        <label>–ù–∏–∫–Ω–µ–π–º –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</label>
        <input type="text" id="manual-username" placeholder="model_nickname" />
        <label>–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü (USD)</label>
        <input type="number" id="manual-amount" placeholder="0.00" step="0.01" min="0" />
      </div>
      <button class="btn btn-primary" style="margin-top:12px;" id="btn-manual-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      <div class="save-msg" id="manual-msg">‚úì –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ</div>
    </div>
  </div>

  <div class="tab-content" id="tab-settings">
    <div class="section">
      <div class="section-title">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API</div>
      <div class="config-form">
        <label>URL API endpoint</label>
        <input type="url" id="cfg-url" />
        <label>–°–µ–∫—Ä–µ—Ç (x-scraper-secret)</label>
        <input type="password" id="cfg-secret" />
        <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–º–∏–Ω—É—Ç)</label>
        <input type="number" id="cfg-interval" min="5" max="1440" />
      </div>
      <button class="btn btn-primary" style="margin-top:12px;" id="btn-save-cfg">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <div class="save-msg" id="cfg-save-msg">‚úì –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã</div>
    </div>
  </div>

  <div id="status-msg"></div>
  <script src="popup.js"></script>
</body>
</html>
